<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>ğŸ§  ë¬´ì˜ì‹ ë¨¸ë‹ˆíŒ¨í„´ ì‹œê°ì  ë¶„ì„ ê²°ê³¼</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        body { 
            font-family: 'Malgun Gothic', Arial, sans-serif; 
            padding: 20px; 
            background: linear-gradient(135deg, #2c3e50 0%, #3498db 100%); 
            min-height: 100vh;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
        }
        .email-preview { 
            background: white; 
            padding: 40px; 
            border-radius: 15px; 
            box-shadow: 0 10px 30px rgba(0,0,0,0.2); 
            margin: 20px 0;
        }
        .header {
            text-align: center;
            background: linear-gradient(135deg, #34495e, #2c3e50);
            color: white;
            padding: 25px;
            border-radius: 10px;
            margin-bottom: 30px;
        }
        .logo {
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 5px;
        }
        .chart-container {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 10px;
            margin: 25px 0;
            border: 2px solid #e9ecef;
        }
        .chart-wrapper {
            position: relative;
            height: 350px;
            margin: 20px 0;
        }
        .small-chart-wrapper {
            position: relative;
            height: 250px;
            margin: 15px 0;
        }
        .chart-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 20px 0;
        }
        .pattern-result {
            background: linear-gradient(135deg, #3498db, #5dade2);
            color: white;
            padding: 25px;
            border-radius: 10px;
            margin: 25px 0;
            text-align: center;
        }
        .unconscious-section {
            background: linear-gradient(135deg, #8e44ad, #9b59b6);
            color: white;
            padding: 25px;
            border-radius: 10px;
            margin: 25px 0;
        }
        .analysis-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 20px 0;
        }
        .strength-card {
            background: linear-gradient(135deg, #27ae60, #2ecc71);
            color: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
        }
        .improvement-card {
            background: linear-gradient(135deg, #e67e22, #f39c12);
            color: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
        }
        .contact { 
            background: linear-gradient(135deg, #34495e, #2c3e50);
            color: white;
            padding: 25px; 
            border-radius: 10px; 
            margin-top: 25px; 
            text-align: center;
        }
        .buttons { 
            margin: 20px 0; 
            text-align: center; 
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
        }
        button { 
            background: linear-gradient(135deg, #3498db, #5dade2);
            color: white; 
            border: none; 
            padding: 12px 24px; 
            margin: 5px; 
            border-radius: 25px; 
            cursor: pointer;
            font-size: 14px;
            font-weight: bold;
            transition: all 0.3s;
        }
        button:hover { 
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        .pallanggui { background: linear-gradient(135deg, #e74c3c, #c0392b); }
        .jilleo { background: linear-gradient(135deg, #f39c12, #e67e22); }
        .wanbyeok { background: linear-gradient(135deg, #27ae60, #229954); color: white; }
        .najalna { background: linear-gradient(135deg, #8e44ad, #7d3c98); }
        .jaengchwi { background: linear-gradient(135deg, #2980b9, #21618c); }
        .signature {
            text-align: center;
            margin-top: 30px;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 10px;
            color: #2c3e50;
        }
        .legend {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 15px;
            margin: 15px 0;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 8px;
        }
        .legend-item {
            display: flex;
            align-items: center;
            font-size: 12px;
        }
        .legend-color {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin-right: 5px;
        }
        .insight-box {
            background: linear-gradient(135deg, #e8f4fd, #f0f8ff);
            border: 2px solid #3498db;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1 style="text-align: center; color: white; margin-bottom: 30px; text-shadow: 2px 2px 4px rgba(0,0,0,0.3);">
            ğŸ“Š ë¬´ì˜ì‹ ë¨¸ë‹ˆíŒ¨í„´ ì‹œê°ì  ë¶„ì„ ë¦¬í¬íŠ¸
        </h1>
        
        <div class="buttons">
            <p><strong>ğŸ¨ íŒ¨í„´ë³„ ì‹œê°ì  ë¶„ì„ ê²°ê³¼ í™•ì¸:</strong></p>
            <button class="pallanggui" onclick="showPattern('pallanggui')">íŒ”ë‘ê·€í˜•</button>
            <button class="jilleo" onclick="showPattern('jilleo')">ì§ˆëŸ¬í˜•</button>
            <button class="wanbyeok" onclick="showPattern('wanbyeok')">ì™„ë²½í˜•</button>
            <button class="najalna" onclick="showPattern('najalna')">ë‚˜ì˜ë‚˜í˜•</button>
            <button class="jaengchwi" onclick="showPattern('jaengchwi')">ìŸì·¨í˜•</button>
        </div>

        <div class="email-preview">
            <div class="header">
                <div class="logo">ğŸ§  ë¬´ì˜ì‹ ë¨¸ë‹ˆíŒ¨í„´ ì—°êµ¬ì„¼í„°</div>
                <div style="font-size: 14px; opacity: 0.9;">Unconscious Money Pattern Research Center</div>
                <div style="font-size: 12px; margin-top: 10px; opacity: 0.8;">
                    ì‹œê°ì  ë¶„ì„ Ã— ê³¼í•™ì  ê·¼ê±° Ã— ê°œì¸ë³„ ë§ì¶¤ ì§„ë‹¨
                </div>
            </div>
            
            <div style="text-align: center; font-size: 18px; margin-bottom: 30px; color: #2c3e50;" id="emailSubject">
                ğŸ‰ í™ê¸¸ë™ë‹˜ì˜ ë¬´ì˜ì‹ ë¨¸ë‹ˆíŒ¨í„´ ì‹œê°ì  ë¶„ì„ ì™„ë£Œ
            </div>
            
            <div class="pattern-result">
                <div style="font-size: 24px; font-weight: bold; margin-bottom: 15px;" id="mainPattern">íŒ”ë‘ê·€í˜•</div>
                <div style="font-size: 16px; opacity: 0.9;" id="patternCombo">ì£¼ê¸°ì§ˆ: íŒ”ë‘ê·€ + ë¶€ê¸°ì§ˆ: ì§ˆëŸ¬</div>
            </div>
            
            <div class="unconscious-section">
                <h3 style="color: white; margin-bottom: 15px; text-align: center;">ğŸ§  ë¬´ì˜ì‹ vs ì˜ì‹ì  ì˜ì‚¬ê²°ì •</h3>
                <div class="chart-wrapper">
                    <canvas id="consciousnessChart"></canvas>
                </div>
                <p style="color: white; text-align: center; margin-top: 15px; font-size: 14px;">
                    ì—°êµ¬ì— ë”°ë¥´ë©´ <strong>95%ì˜ ê¸ˆìœµ ê²°ì •ì´ ë¬´ì˜ì‹ì—ì„œ ì´ë£¨ì–´ì§‘ë‹ˆë‹¤</strong>
                </p>
            </div>
            
            <div class="chart-container">
                <h3 style="color: #2c3e50; margin-bottom: 20px; text-align: center;">ğŸ“Š ë‹¹ì‹ ì˜ ë¬´ì˜ì‹ ë¨¸ë‹ˆíŒ¨í„´ 5ì°¨ì› ë¶„ì„</h3>
                <div class="chart-wrapper">
                    <canvas id="pentagonChart"></canvas>
                </div>
                <div class="legend" id="chartLegend">
                    <div class="legend-item">
                        <div class="legend-color" style="background-color: #e74c3c;"></div>
                        <span>ì •ë³´ ìˆ˜ì§‘ë ¥</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background-color: #f39c12;"></div>
                        <span>ì‹¤í–‰ë ¥</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background-color: #27ae60;"></div>
                        <span>ì•ˆì •ì„±</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background-color: #8e44ad;"></div>
                        <span>ë¶„ì„ë ¥</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background-color: #2980b9;"></div>
                        <span>ëª©í‘œ ì§€í–¥ì„±</span>
                    </div>
                </div>
            </div>
            
            <div class="analysis-grid">
                <div class="strength-card">
                    <h4 style="margin-bottom: 15px;">ğŸ’ª í•µì‹¬ ê°•ì </h4>
                    <div class="small-chart-wrapper">
                        <canvas id="strengthChart"></canvas>
                    </div>
                </div>
                <div class="improvement-card">
                    <h4 style="margin-bottom: 15px;">ğŸ¯ ê°œì„  ì˜ì—­</h4>
                    <div class="small-chart-wrapper">
                        <canvas id="improvementChart"></canvas>
                    </div>
                </div>
            </div>
            
            <div class="chart-container">
                <h3 style="color: #2c3e50; margin-bottom: 20px; text-align: center;">ğŸ“ˆ ë¬´ì˜ì‹ íŒ¨í„´ ë°œì „ ë¡œë“œë§µ</h3>
                <div class="chart-wrapper">
                    <canvas id="progressChart"></canvas>
                </div>
                <p style="text-align: center; color: #666; margin-top: 15px; font-size: 14px;">
                    í˜„ì¬ ìˆ˜ì¤€ì—ì„œ ëª©í‘œ ìˆ˜ì¤€ê¹Œì§€ì˜ ë°œì „ ê²½ë¡œ
                </p>
            </div>
            
            <div class="insight-box">
                <h3 style="color: #2c3e50; margin-bottom: 15px; text-align: center;">ğŸ’¡ í•µì‹¬ ì¸ì‚¬ì´íŠ¸</h3>
                <div id="keyInsight" style="color: #2c3e50; line-height: 1.6;">
                    ë‹¹ì‹ ì˜ <strong>ì •ë³´ ìˆ˜ì§‘ë ¥(85%)</strong>ì´ ë§¤ìš° ë›°ì–´ë‚˜ì§€ë§Œ, <strong>ë¶„ì„ë ¥(45%)</strong>ì„ ë³´ì™„í•˜ë©´ 
                    ë”ìš± ì¼ê´€ëœ íˆ¬ì ì„±ê³¼ë¥¼ ì–»ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë¬´ì˜ì‹ì ìœ¼ë¡œ ë‹¤ì–‘í•œ ì •ë³´ë¥¼ ìˆ˜ì§‘í•˜ëŠ” ëŠ¥ë ¥ì„ 
                    ì²´ê³„ì  ë¶„ì„ê³¼ ê²°í•©í•˜ëŠ” ê²ƒì´ í•µì‹¬ì…ë‹ˆë‹¤.
                </div>
            </div>
            
            <div class="chart-grid">
                <div class="chart-container">
                    <h4 style="color: #2c3e50; margin-bottom: 15px; text-align: center;">ğŸ¯ ë¦¬ìŠ¤í¬ í”„ë¡œí•„</h4>
                    <div class="small-chart-wrapper">
                        <canvas id="riskChart"></canvas>
                    </div>
                </div>
                <div class="chart-container">
                    <h4 style="color: #2c3e50; margin-bottom: 15px; text-align: center;">â±ï¸ ì˜ì‚¬ê²°ì • ì†ë„</h4>
                    <div class="small-chart-wrapper">
                        <canvas id="speedChart"></canvas>
                    </div>
                </div>
            </div>
            
            <div class="contact">
                <h3 style="margin-bottom: 15px;">ğŸ¯ ë§ì¶¤í˜• ë¬´ì˜ì‹ íŒ¨í„´ í™œìš© ìƒë‹´</h3>
                <p style="font-size: 16px; margin-bottom: 20px; line-height: 1.6;">
                    ì´ ì‹œê°ì  ë¶„ì„ ê²°ê³¼ë¥¼ ë°”íƒ•ìœ¼ë¡œ <strong>ì‹¤ì œ íˆ¬ìì— ì–´ë–»ê²Œ í™œìš©í• ì§€</strong><br>
                    ì „ë¬¸ê°€ì™€ í•¨ê»˜ êµ¬ì²´ì ì¸ ì „ëµì„ ì„¸ì›Œë³´ì„¸ìš”.
                </p>
                <div style="background: rgba(255,255,255,0.1); padding: 15px; border-radius: 10px; margin-top: 15px;">
                    <p><strong>ğŸ“§ ì „ë¬¸ ë¶„ì„ ìƒë‹´:</strong> habin0781@naver.com</p>
                    <p><strong>â˜ï¸ ì‹œê°ì  ë¶„ì„ í•´ì„:</strong> 02)848-7000</p>
                    <p><strong>â° ìƒë‹´ ì‹œê°„:</strong> í‰ì¼ 09:00 ~ 18:00</p>
                </div>
            </div>
            
            <div class="signature">
                <p style="font-size: 16px; margin-bottom: 10px; color: #2c3e50;">
                    ì‹œê°ì  ë¶„ì„ìœ¼ë¡œ ë¬´ì˜ì‹ íŒ¨í„´ì„ ëª…í™•íˆ ë³´ì—¬ë“œë¦½ë‹ˆë‹¤.
                </p>
                <p style="font-size: 14px; color: #2c3e50;">
                    <strong>ë¬´ì˜ì‹ ë¨¸ë‹ˆíŒ¨í„´ ì—°êµ¬ì„¼í„°</strong><br>
                    <span style="font-size: 12px; opacity: 0.7;">"Visual Analysis for Better Understanding"</span>
                </p>
            </div>
        </div>
    </div>

    <script>
        const patternData = {
            pallanggui: {
                name: 'íŒ”ë‘ê·€í˜•',
                combo: 'ì£¼ê¸°ì§ˆ: íŒŒë‘ê·€ + ë¶€ê¸°ì§ˆ: ì§ˆëŸ¬',
                pentagon: [85, 70, 35, 45, 55], // ì •ë³´ìˆ˜ì§‘, ì‹¤í–‰ë ¥, ì•ˆì •ì„±, ë¶„ì„ë ¥, ëª©í‘œì§€í–¥
                strengths: [85, 70, 60], // ì •ë³´ìˆ˜ì§‘, ë„¤íŠ¸ì›Œí‚¹, íŠ¸ë Œë“œê°ì§€
                improvements: [45, 40, 35], // ë¶„ì„ë ¥, ì¸ë‚´ì‹¬, ì²´ê³„ì„±
                risk: [30, 70], // ë³´ìˆ˜ì , ê³µê²©ì 
                speed: [90, 10], // ë¹ ë¦„, ì‹ ì¤‘
                insight: 'ë‹¹ì‹ ì˜ <strong>ì •ë³´ ìˆ˜ì§‘ë ¥(85%)</strong>ì´ ë§¤ìš° ë›°ì–´ë‚˜ì§€ë§Œ, <strong>ë¶„ì„ë ¥(45%)</strong>ì„ ë³´ì™„í•˜ë©´ ë”ìš± ì¼ê´€ëœ íˆ¬ì ì„±ê³¼ë¥¼ ì–»ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë¬´ì˜ì‹ì ìœ¼ë¡œ ë‹¤ì–‘í•œ ì •ë³´ë¥¼ ìˆ˜ì§‘í•˜ëŠ” ëŠ¥ë ¥ì„ ì²´ê³„ì  ë¶„ì„ê³¼ ê²°í•©í•˜ëŠ” ê²ƒì´ í•µì‹¬ì…ë‹ˆë‹¤.'
            },
            jilleo: {
                name: 'ì§ˆëŸ¬í˜•',
                combo: 'ì£¼ê¸°ì§ˆ: ì§ˆëŸ¬ + ë¶€ê¸°ì§ˆ: ë‚˜ì˜ë‚˜',
                pentagon: [60, 90, 25, 40, 75],
                strengths: [90, 80, 75], // ì‹¤í–‰ë ¥, ê¸°íšŒí¬ì°©, ì ê·¹ì„±
                improvements: [25, 30, 40], // ì•ˆì •ì„±, ê³„íšì„±, ë¶„ì„ë ¥
                risk: [20, 80],
                speed: [95, 5],
                insight: 'ë‹¹ì‹ ì˜ <strong>ì‹¤í–‰ë ¥(90%)</strong>ê³¼ <strong>ê¸°íšŒí¬ì°©ë ¥</strong>ì´ íƒì›”í•˜ì§€ë§Œ, <strong>ì•ˆì •ì„±(25%)</strong> ë³´ì™„ì´ í•„ìš”í•©ë‹ˆë‹¤. ì¦‰í¥ì  ê²°ì •ë ¥ì„ ì²´ê³„ì  ê³„íšê³¼ ê²°í•©í•˜ë©´ ë” í° ì„±ê³¼ë¥¼ ë‚¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.'
            },
            wanbyeok: {
                name: 'ì™„ë²½í˜•',
                combo: 'ì£¼ê¸°ì§ˆ: ì™„ë²½ + ë¶€ê¸°ì§ˆ: ìŸì·¨',
                pentagon: [70, 40, 95, 90, 80],
                strengths: [95, 90, 85], // ì•ˆì •ì„±, ë¶„ì„ë ¥, ì²´ê³„ì„±
                improvements: [40, 45, 50], // ì‹¤í–‰ë ¥, ìœ ì—°ì„±, ê¸°íšŒí¬ì°©
                risk: [80, 20],
                speed: [20, 80],
                insight: 'ë‹¹ì‹ ì˜ <strong>ì•ˆì •ì„±(95%)</strong>ê³¼ <strong>ë¶„ì„ë ¥(90%)</strong>ì´ ìµœê³  ìˆ˜ì¤€ì´ì§€ë§Œ, <strong>ì‹¤í–‰ë ¥(40%)</strong> í–¥ìƒì´ í•„ìš”í•©ë‹ˆë‹¤. ì™„ë²½í•œ ê³„íšì„ ì‹¤í–‰ìœ¼ë¡œ ì—°ê²°í•˜ëŠ” ê²ƒì´ ì„±ê³µì˜ ì—´ì‡ ì…ë‹ˆë‹¤.'
            },
            najalna: {
                name: 'ë‚˜ì˜ë‚˜í˜•',
                combo: 'ì£¼ê¸°ì§ˆ: ë‚˜ì˜ë‚˜ + ë¶€ê¸°ì§ˆ: íŒ”ë‘ê·€',
                pentagon: [75, 85, 50, 60, 90],
                strengths: [90, 85, 80], // ëª©í‘œì§€í–¥, ì‹¤í–‰ë ¥, ìì‹ ê°
                improvements: [50, 55, 60], // ì•ˆì •ì„±, ê²¸ì†í•¨, ë¶„ì„ë ¥
                risk: [30, 70],
                speed: [80, 20],
                insight: 'ë‹¹ì‹ ì˜ <strong>ëª©í‘œì§€í–¥ì„±(90%)</strong>ê³¼ <strong>ì‹¤í–‰ë ¥(85%)</strong>ì´ ë›°ì–´ë‚˜ì§€ë§Œ, <strong>ì•ˆì •ì„±(50%)</strong>ì„ ë†’ì´ë©´ ë” ì§€ì†ê°€ëŠ¥í•œ ì„±ê³¼ë¥¼ ì–»ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê°•í•œ ì¶”ì§„ë ¥ì„ ê· í˜•ì¡íŒ ì ‘ê·¼ê³¼ ê²°í•©í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•©ë‹ˆë‹¤.'
            },
            jaengchwi: {
                name: 'ìŸì·¨í˜•',
                combo: 'ì£¼ê¸°ì§ˆ: ìŸì·¨ + ë¶€ê¸°ì§ˆ: ì™„ë²½',
                pentagon: [65, 75, 70, 85, 95],
                strengths: [95, 85, 75], // ëª©í‘œì§€í–¥, ë¶„ì„ë ¥, ëˆê¸°
                improvements: [65, 70, 75], // ìœ ì—°ì„±, ì•ˆì •ì„±, ì‹¤í–‰ë ¥
                risk: [60, 40],
                speed: [60, 40],
                insight: 'ë‹¹ì‹ ì˜ <strong>ëª©í‘œì§€í–¥ì„±(95%)</strong>ê³¼ <strong>ë¶„ì„ë ¥(85%)</strong>ì´ ê· í˜•ìˆê²Œ ë°œë‹¬í–ˆì§€ë§Œ, <strong>ìœ ì—°ì„±</strong> í–¥ìƒì´ ë„ì›€ë  ê²ƒì…ë‹ˆë‹¤. ì²´ê³„ì  ëª©í‘œ ë‹¬ì„± ëŠ¥ë ¥ì„ ìœ ì—°í•œ ì ì‘ë ¥ê³¼ ê²°í•©í•˜ë©´ ìµœê³ ì˜ ì„±ê³¼ë¥¼ ë‚¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.'
            }
        };

        let currentPattern = 'pallanggui';
        let charts = {};

        function createPentagonChart(data) {
            const ctx = document.getElementById('pentagonChart').getContext('2d');
            if (charts.pentagon) charts.pentagon.destroy();
            
            charts.pentagon = new Chart(ctx, {
                type: 'radar',
                data: {
                    labels: ['ì •ë³´ ìˆ˜ì§‘ë ¥', 'ì‹¤í–‰ë ¥', 'ì•ˆì •ì„±', 'ë¶„ì„ë ¥', 'ëª©í‘œ ì§€í–¥ì„±'],
                    datasets: [{
                        label: 'í˜„ì¬ ìˆ˜ì¤€',
                        data: data,
                        backgroundColor: 'rgba(52, 152, 219, 0.2)',
                        borderColor: 'rgba(52, 152, 219, 0.8)',
                        borderWidth: 3,
                        pointBackgroundColor: 'rgba(52, 152, 219, 1)',
                        pointBorderColor: '#fff',
                        pointBorderWidth: 2,
                        pointRadius: 6
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { display: false }
                    },
                    scales: {
                        r: {
                            beginAtZero: true,
                            max: 100,
                            ticks: {
                                stepSize: 20,
                                font: { size: 10 }
                            },
                            grid: { color: 'rgba(0, 0, 0, 0.1)' },
                            angleLines: { color: 'rgba(0, 0, 0, 0.1)' },
                            pointLabels: {
                                font: { size: 12, weight: 'bold' },
                                color: '#2c3e50'
                            }
                        }
                    }
                }
            });
        }

        function createConsciousnessChart() {
            const ctx = document.getElementById('consciousnessChart').getContext('2d');
            if (charts.consciousness) charts.consciousness.destroy();
            
            charts.consciousness = new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: ['ë¬´ì˜ì‹ì  ê²°ì •', 'ì˜ì‹ì  ê²°ì •'],
                    datasets: [{
                        data: [95, 5],
                        backgroundColor: ['rgba(142, 68, 173, 0.8)', 'rgba(52, 152, 219, 0.8)'],
                        borderWidth: 0
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'bottom',
                            labels: { 
                                color: 'white',
                                font: { size: 14, weight: 'bold' }
                            }
                        }
                    }
                }
            });
        }

        function createStrengthChart(data) {
            const ctx = document.getElementById('strengthChart').getContext('2d');
            if (charts.strength) charts.strength.destroy();
            
            charts.strength = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ['í•µì‹¬ ê°•ì 1', 'í•µì‹¬ ê°•ì 2', 'í•µì‹¬ ê°•ì 3'],
                    datasets: [{
                        data: data,
                        backgroundColor: ['rgba(39, 174, 96, 0.8)', 'rgba(39, 174, 96, 0.6)', 'rgba(39, 174, 96, 0.4)'],
                        borderWidth: 0
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: { legend: { display: false } },
                    scales: {
                        y: {
                            beginAtZero: true,
                            max: 100,
                            ticks: { color: 'white', font: { size: 10 } }
                        },
                        x: {
                            ticks: { color: 'white', font: { size: 10 } }
                        }
                    }
                }
            });
        }

        function createImprovementChart(data) {
            const ctx = document.getElementById('improvementChart').getContext('2d');
            if (charts.improvement) charts.improvement.destroy();
            
            charts.improvement = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ['ê°œì„ ì˜ì—­1', 'ê°œì„ ì˜ì—­2', 'ê°œì„ ì˜ì—­3'],
                    datasets: [{
                        data: data,
                        backgroundColor: ['rgba(230, 126, 34, 0.8)', 'rgba(230, 126, 34, 0.6)', 'rgba(230, 126, 34, 0.4)'],
                        borderWidth: 0
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: { legend: { display: false } },
                    scales: {
                        y: {
                            beginAtZero: true,
                            max: 100,
                            ticks: { color: 'white', font: { size: 10 } }
                        },
                        x: {
                            ticks: { color: 'white', font: { size: 10 } }
                        }
                    }
                }
            });
        }

        function createProgressChart() {
            const ctx = document.getElementById('progressChart').getContext('2d');
            if (charts.progress) charts.progress.destroy();
            
            charts.progress = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: ['í˜„ì¬', '1ê°œì›”', '3ê°œì›”', '6ê°œì›”', '12ê°œì›”'],
                    datasets: [{
                        label: 'ë°œì „ ìˆ˜ì¤€',
                        data: [60, 65, 75, 85, 90],
                        borderColor: 'rgba(52, 152, 219, 0.8)',
                        backgroundColor: 'rgba(52, 152, 219, 0.1)',
                        borderWidth: 3,
                        fill: true,
                        tension: 0.4,
                        pointBackgroundColor: 'rgba(52, 152, 219, 1)',
                        pointBorderColor: '#fff',
                        pointBorderWidth: 2,
                        pointRadius: 6
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: { legend: { display: false } },
                    scales: {
                        y: {
                            beginAtZero: true,
                            max: 100,
                            ticks: { font: { size: 12 } }
                        },
                        x: {
                            ticks: { font: { size: 12 } }
                        }
                    }
                }
            });
        }

        function createRiskChart(data) {
            const ctx = document.getElementById('riskChart').getContext('2d');
            if (charts.risk) charts.risk.destroy();
            
            charts.risk = new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: ['ë³´ìˆ˜ì ', 'ê³µê²©ì '],
                    datasets: [{
                        data: data,
                        backgroundColor: ['rgba(39, 174, 96, 0.8)', 'rgba(231, 76, 60, 0.8)'],
                        borderWidth: 0
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'bottom',
                            labels: { font: { size: 11 } }
                        }
                    }
                }
            });
        }

        function createSpeedChart(data) {
            const ctx = document.getElementById('speedChart').getContext('2d');
            if (charts.speed) charts.speed.destroy();
            
            charts.speed = new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: ['ë¹ ë¥¸ ê²°ì •', 'ì‹ ì¤‘í•œ ê²°ì •'],
                    datasets: [{
                        data: data,
                        backgroundColor: ['rgba(243, 156, 18, 0.8)', 'rgba(52, 152, 219, 0.8)'],
                        borderWidth: 0
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'bottom',
                            labels: { font: { size: 11 } }
                        }
                    }
                }
            });
        }

        function showPattern(patternType) {
            currentPattern = patternType;
            const pattern = patternData[patternType];
            const userName = "í™ê¸¸ë™";
            
            // ê¸°ë³¸ ì •ë³´ ì—…ë°ì´íŠ¸
            document.getElementById('emailSubject').textContent = 
                `ğŸ‰ ${userName}ë‹˜ì˜ ë¬´ì˜ì‹ ë¨¸ë‹ˆíŒ¨í„´ ì‹œê°ì  ë¶„ì„ ì™„ë£Œ`;
            document.getElementById('mainPattern').textContent = pattern.name;
            document.getElementById('patternCombo').textContent = pattern.combo;
            document.getElementById('keyInsight').innerHTML = pattern.insight;
            
            // ì°¨íŠ¸ ìƒì„±/ì—…ë°ì´íŠ¸
            createPentagonChart(pattern.pentagon);
            createConsciousnessChart();
            createStrengthChart(pattern.strengths);
            createImprovementChart(pattern.improvements);
            createProgressChart();
            createRiskChart(pattern.risk);
            createSpeedChart(pattern.speed);
        }

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ê¸°ë³¸ íŒ¨í„´ í‘œì‹œ
        document.addEventListener('DOMContentLoaded', function() {
            setTimeout(() => {
                showPattern('pallanggui');
            }, 100);
        });
    </script>
</body>
</html>